!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.WildVue=o():e.WildVue=o()}(this,function(){return function(e){function o(n){if(i[n])return i[n].exports;var t=i[n]={exports:{},id:n,loaded:!1};return e[n].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}var i={};return o.m=e,o.c=i,o.p="",o(0)}([function(e,o){function i(e){return"function"==typeof e.key?e.key():e.key}function n(e){return"function"==typeof e.ref?e=e.ref():"object"==typeof e.ref&&(e=e.ref),e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){var o=e.val(),n=t(o)?o:{".value":o};return n[".key"]=i(e),n}function d(e,o){for(var i=0;i<e.length;i++)if(e[i][".key"]===o)return i;return-1}function l(e,o,i){var r=!1,d=null;if(t(i)&&i.hasOwnProperty("source")&&(r=i.asObject,d=i.cancelCallback,i=i.source),!t(i))throw new Error("WildVue: invalid Wilddog binding source.");var l=n(i);e.$wilddogRefs[o]=l,e._wilddogSources[o]=i,r?f(e,o,i,d):u(e,o,i,d)}function c(e,o,i){o in e?e[o]=i:w.util.defineReactive(e,o,i)}function u(e,o,n,t){var l=[];c(e,o,l);var u=n.on("child_added",function(e,o){var i=o?d(l,o)+1:0;l.splice(i,0,r(e))},t),f=n.on("child_removed",function(e){var o=d(l,i(e));l.splice(o,1)},t),s=n.on("child_changed",function(e){var o=d(l,i(e));l.splice(o,1,r(e))},t),a=n.on("child_moved",function(e,o){var n=d(l,i(e)),t=l.splice(n,1)[0],r=o?d(l,o)+1:0;l.splice(r,0,t)},t);e._wilddogListeners[o]={child_added:u,child_removed:f,child_changed:s,child_moved:a}}function f(e,o,i,n){c(e,o,{});var t=i.on("value",function(i){e[o]=r(i)},n);e._wilddogListeners[o]={value:t}}function s(e,o){var i=e._wilddogSources&&e._wilddogSources[o];if(!i)throw new Error('WildVue: unbind failed: "'+o+'" is not bound to a Wilddog reference.');var n=e._wilddogListeners[o];for(var t in n)i.off(t,n[t]);e[o]=null,e.$wilddogRefs[o]=null,e._wilddogSources[o]=null,e._wilddogListeners[o]=null}function a(e){e.$wilddogRefs||(e.$wilddogRefs=Object.create(null),e._wilddogSources=Object.create(null),e._wilddogListeners=Object.create(null))}function p(e){w=e,w.mixin(h);var o=w.config.optionMergeStrategies;o.wilddog=o.methods,w.prototype.$bindAsObject=function(e,o,i){a(this),l(this,e,{source:o,asObject:!0,cancelCallback:i})},w.prototype.$bindAsArray=function(e,o,i){a(this),l(this,e,{source:o,cancelCallback:i})},w.prototype.$unbind=function(e){s(this,e)}}var w,g=function(){var e=this.$options.wilddog;if(e){a(this);for(var o in e)l(this,o,e[o])}},h={init:g,beforeCreate:g,beforeDestroy:function(){if(this.$wilddogRefs){for(var e in this.$wilddogRefs)this.$wilddogRefs[e]&&this.$unbind(e);this.$wilddogRefs=null,this._wilddogSources=null,this._wilddogListeners=null}}};"undefined"!=typeof window&&window.Vue&&p(window.Vue),e.exports=p}])});