<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="format-detection" content="telephone=no"/>
<title>sigma</title>
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<style>
.page-tag {
	display: flex; border: solid 1px blue;
}
.page-tag input {
	display: none;
}
.page-tag label {
	flex-basis: 100%; text-align: center;
}
.page-tag input + label {
	color: blue; background-color: white;
}
.page-tag input:checked + label {
	color: white; background-color: blue;
}
</style>
<!-- Vue -->
<script src="./lib/vue.js"></script> 
<!-- Wilddog -->
<script src="./lib/wilddog.js"></script> 
<!-- WildVue -->
<script src="./lib/wildvue.min.js"></script>
<!-- vue-router -->
<script src="./lib/vue-router.min.js"></script>
</head>
<body>
<div id="demo">
	<div class="page-tag">
		<input type="radio" id="tag1" name="tag" v-model="tag" value="time">
		<label for="tag1">标签1</label>
		<input type="radio" id="tag2" name="tag" v-model="tag" value="date">
		<label for="tag2">标签2</label>
		<input type="radio" id="tag3" name="tag" v-model="tag" value="per">
		<label for="tag3">标签3</label>
		<input type="radio" id="tag4" name="tag" v-model="tag" value="test">
		<label for="tag4">标签4</label>
	</div>
	<pre>{{switchs}}</pre>
	<ul><li v-for="item in points">
		<pre>{{item.data}}</pre>
	</li></ul>
	<ul><li v-for="item1 in scenes">
		<div>{{item1.name}}</div>
		<ul><li v-for="item2 in item1.points">
			<!-- <pre>{{maparr[item2]['.value']}}</pre> -->
			<!-- <pre>{{points['.' + maparr[item2]['.value']]}}</pre> -->
			<pre>{{item2}}</pre>
		</li></ul>
	</li></ul>
</div>
<script>
var wilddogApp = wilddog.initializeApp({
	syncURL: "https://helloworldsigma33.wilddogio.com"
});
var sync = wilddogApp.sync();

var vm = new Vue({
	el: '#demo',
	data: {
		tag: 'time'
	},
	wilddog: {
		points: sync.ref('points'), //默认作为数组绑定;也可以绑定一个查询,anArray:sync.ref('url/to/my/collection').limitToLast(25)
		scenes: sync.ref('scenes'),
		maparr: sync.ref('maparr'), 
		switchs: { //完整语法
			source: sync.ref('switchs'),
			asObject: true, //可选,作为对象绑定
			cancelCallback: function () {} //可选,提供一个回调
		}
	}
});
</script>
</body>
</html>
